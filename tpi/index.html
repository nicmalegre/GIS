<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="v6.4.3/css/ol.css" type="text/css">
    <style>
        
    </style>
    <title>G1Maps</title>
    <script src="v6.4.3/build/ol.js" type="text/javascript"></script>
    <script src="url.js" type="text/javascript"></script>

    <!--agregamos la libreria JQuery -->
    <script src="jquery.min.js" type="text/javascript"></script>

    <!-- Importamos el css -->
    <link rel="stylesheet" href="index.css" type="text/css">
    
    <!-- Importamos los iconos de fontawesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>

    <!-- AGREGAR EL NAVBAR -->
    <div class="topnav" id="myTopnav" style="text-align: center;">
        <h1 style="color: #ffff;">GIS - TPI</h1>
        <!-- <a href="#home" class="active">Home</a>
        <a href="#news">News</a>
        <a href="#contact">Contact</a>
        <a href="#about">About</a>
        <a href="javascript:void(0);" class="icon" onclick="myFunction()">
            <i class="fa fa-bars"></i>
        </a> -->
    </div>

    <!-- DIV que contiene el mapa -->
    <div id="map"></div>

    <div id="panel">
        <div id="capas">
            <h3>Capas</h3>
            <!-- checkboxes para activar/desactivar las capas -->
            <input type="checkbox" id="check_layer_1" onclick="mostrarCapa(event)"><label for="check_layer_1"> 1. Actividades Agropecuarias</label><br />
            <input type="checkbox" id="check_layer_2" onclick="mostrarCapa(event)"><label for="check_layer_2"> 2. Actividades Economicas</label><br />
            <input type="checkbox" id="check_layer_3" onclick="mostrarCapa(event)"><label for="check_layer_3"> 3. Complejo de Energia</label><br />
            <input type="checkbox" id="check_layer_4" onclick="mostrarCapa(event)"><label for="check_layer_4"> 4. Curso de Agua Hid</label><br />
            <input type="checkbox" id="check_layer_5" onclick="mostrarCapa(event)"><label for="check_layer_5"> 5. Curvas de Nivel</label><br />
            <input type="checkbox" id="check_layer_6" onclick="mostrarCapa(event)"><label for="check_layer_6"> 6. Construcciones turisticas</label><br />
            <input type="checkbox" id="check_layer_7" onclick="mostrarCapa(event)"><label for="check_layer_7"> 7. Edif. Depor y Esparcimiento</label><br />
            <input type="checkbox" id="check_layer_8" onclick="mostrarCapa(event)"><label for="check_layer_8"> 8. Edif. Educacion</label><br />
            <input type="checkbox" id="check_layer_9" onclick="mostrarCapa(event)"><label for="check_layer_9"> 9. Edif. Religosos</label><br />
            <input type="checkbox" id="check_layer_10" onclick="mostrarCapa(event)"><label for="check_layer_10"> 10. Edif. Salud IPS</label><br />
            <input type="checkbox" id="check_layer_11" onclick="mostrarCapa(event)"><label for="check_layer_11"> 11. Edif. Seg IPS</label><br />
            <input type="checkbox" id="check_layer_12" onclick="mostrarCapa(event)"><label for="check_layer_12"> 12. Edif. Publico IPS</label><br />
            <input type="checkbox" id="check_layer_13" onclick="mostrarCapa(event)"><label for="check_layer_13"> 13. Edif. Ferroviarios</label><br />
            <input type="checkbox" id="check_layer_14" onclick="mostrarCapa(event)"><label for="check_layer_14"> 14. Ejido</label><br />
            <input type="checkbox" id="check_layer_15" onclick="mostrarCapa(event)"><label for="check_layer_15"> 15. Espejos Agua Hid</label><br />
            <input type="checkbox" id="check_layer_16" onclick="mostrarCapa(event)"><label for="check_layer_16"> 16. Est. Portuarias</label><br />
            <input type="checkbox" id="check_layer_17" onclick="mostrarCapa(event)"><label for="check_layer_17"> 17. Inf. Aeroportuaria P.</label><br />
            <input type="checkbox" id="check_layer_18" onclick="mostrarCapa(event)"><label for="check_layer_18"> 18. Inf. Hid</label><br />
            <input type="checkbox" id="check_layer_19" onclick="mostrarCapa(event)"><label for="check_layer_19"> 19. Isla</label><br />
            <input type="checkbox" id="check_layer_20" onclick="mostrarCapa(event)"><label for="check_layer_20"> 20. Lim. Politico Adm</label><br />
            <input type="checkbox" id="check_layer_21" onclick="mostrarCapa(event)"><label for="check_layer_21"> 21. Localidades</label><br />
            <input type="checkbox" id="check_layer_22" onclick="mostrarCapa(event)"><label for="check_layer_22"> 22. Lineas de Conduc. Ene</label><br />
            <input type="checkbox" id="check_layer_23" onclick="mostrarCapa(event)"><label for="check_layer_23"> 23. Marcas y Sen</label><br />
            <input type="checkbox" id="check_layer_24" onclick="mostrarCapa(event)"><label for="check_layer_24"> 24. Muro Embalse</label><br />
            <input type="checkbox" id="check_layer_25" onclick="mostrarCapa(event)"><label for="check_layer_25"> 25. Obra Comunicacion</label><br />
            <input type="checkbox" id="check_layer_26" onclick="mostrarCapa(event)"><label for="check_layer_26"> 26. Obra Portuaria</label><br />
            <input type="checkbox" id="check_layer_27" onclick="mostrarCapa(event)"><label for="check_layer_27"> 27. Otras Edif.</label><br />
            <input type="checkbox" id="check_layer_28" onclick="mostrarCapa(event)"><label for="check_layer_28"> 28. Pais Lim</label><br />
            <input type="checkbox" id="check_layer_29" onclick="mostrarCapa(event)"><label for="check_layer_29"> 29. Provincias</label><br />
            <input type="checkbox" id="check_layer_30" onclick="mostrarCapa(event)"><label for="check_layer_30"> 30. Puente Red Vial</label><br />
            <input type="checkbox" id="check_layer_31" onclick="mostrarCapa(event)"><label for="check_layer_31"> 31. Puntos de Alt Top</label><br />
            <input type="checkbox" id="check_layer_32" onclick="mostrarCapa(event)"><label for="check_layer_32"> 32. Puntos del Terreno</label><br />
            <input type="checkbox" id="check_layer_33" onclick="mostrarCapa(event)"><label for="check_layer_33"> 33. Red Ferroviaria</label><br />
            <input type="checkbox" id="check_layer_34" onclick="mostrarCapa(event)"><label for="check_layer_34"> 34. Red Vial</label><br />
            <input type="checkbox" id="check_layer_35" onclick="mostrarCapa(event)"><label for="check_layer_35"> 35. Salvado de Obs</label><br />
            <input type="checkbox" id="check_layer_36" onclick="mostrarCapa(event)"><label for="check_layer_36"> 36. Senalizaciones</label><br />
            <input type="checkbox" id="check_layer_37" onclick="mostrarCapa(event)"><label for="check_layer_37"> 37. Suelo Congelado</label><br />
            <input type="checkbox" id="check_layer_38" onclick="mostrarCapa(event)"><label for="check_layer_38"> 38. Suelo Consolidado</label><br />
            <input type="checkbox" id="check_layer_39" onclick="mostrarCapa(event)"><label for="check_layer_39"> 39. Suelo Costero</label><br />
            <input type="checkbox" id="check_layer_40" onclick="mostrarCapa(event)"><label for="check_layer_40"> 40. Suelo Hidromor</label><br />
            <input type="checkbox" id="check_layer_41" onclick="mostrarCapa(event)"><label for="check_layer_41"> 41. Suelo No Consolidado</label><br />
            <input type="checkbox" id="check_layer_42" onclick="mostrarCapa(event)"><label for="check_layer_42"> 42. Vegetacion Arborea</label><br />
            <input type="checkbox" id="check_layer_43" onclick="mostrarCapa(event)"><label for="check_layer_43"> 43. Vegetacion Arbustiva</label><br />
            <input type="checkbox" id="check_layer_44" onclick="mostrarCapa(event)"><label for="check_layer_44"> 44. Vegetacion Cultivos</label><br />
            <input type="checkbox" id="check_layer_45" onclick="mostrarCapa(event)"><label for="check_layer_45"> 45. Vegetacion Hidrofila</label><br />
            <input type="checkbox" id="check_layer_46" onclick="mostrarCapa(event)"><label for="check_layer_46"> 46. Vegetacion Suelo Desnudo</label><br />
            <input type="checkbox" id="check_layer_47" onclick="mostrarCapa(event)"><label for="check_layer_47"> 47. Vias Secundarias</label><br />
        </div>
    </div>
    <input type="button" id="btn-controlLateralMenu" onclick="controlLateralMenu()" value="Cerrar">

    <!-- SCRIPT que crea el mapa y sus capas -->
    <script type="text/javascript">

        var MenuLateralIsOpen = true;


        //creo un source de tipo Vector
        var vectorSource = new ol.source.Vector({
            //formato de los datos a consumir
            format: new ol.format.GeoJSON(),
            //url del archivo o script que genera el GeoJSON
            url: 'espejos_de_agua.geojson'
        });

        //creo una capa de tipo vector
        var vectorLayer = new ol.layer.Vector({
            //asigno el source
            source: vectorSource,
            visible: false,

            //estilo
            style: new ol.style.Style({
                //relleno (solo si hay poligonos)
                fill: new ol.style.Fill({
                    color: 'rgba(255, 204, 51, 0.4)'
                }),
                //trazo (para poligonos y lineas)
                stroke: new ol.style.Stroke({
                    color: '#ffcc33',
                    width: 2
                }),
                //image: para puntos
                image: new ol.style.Circle({
                    radius: 7, //radio en pixeles
                    //relleno
                    fill: new ol.style.Fill({
                        color: '#ffcc33'
                    }),
                    //trazo
                    stroke: new ol.style.Stroke({
                        color: '#000000',
                        width: 1
                    })
                })
            })
        });


        /* Agregamos las capas */
        var actividades_agropecuarias = new ol.layer.Image({
            title: "Actividades Agropecuarias",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'actividades_agropecuarias'
                }
            })
        });
        var actividades_economicas = new ol.layer.Image({
            title: "Actividades Economicas",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'actividades_economicas'
                }
            })
        });
        var complejo_de_energia_ene = new ol.layer.Image({
            title: "Complejo de Energia",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'complejo_de_energia_ene'
                }
            })
        });
        var curso_de_agua_hid = new ol.layer.Image({
            title: "Curso de Agua Hid",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'curso_de_agua_hid'
                }
            })
        });
        var curvas_de_nivel = new ol.layer.Image({
            title: "Curvas de Nivel",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'curvas_de_nivel'
                }
            })
        });
        var edif_construcciones_turisticas = new ol.layer.Image({
            title: "Construcciones Turisticas",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'edif_construcciones_turisticas'
                }
            })
        });
        var edif_depor_y_esparcimiento = new ol.layer.Image({
            title: "Construcciones Turisticas",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'edif_construcciones_turisticas'
                }
            })
        });
        var edif_educacion = new ol.layer.Image({
            title: "Edificacion educacion",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'edif_educacion'
                }
            })
        });
        var edif_religiosos = new ol.layer.Image({
            title: "Edificacion Religiosos",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'edif_religiosos'
                }
            })
        });
        var edificio_de_salud_ips = new ol.layer.Image({
            title: "Edificio IPS",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'edificio_de_salud_ips'
                }
            })
        });
        var edificio_de_seguridad_ips = new ol.layer.Image({
            title: "Edificio Seguridad IPS",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'edificio_de_seguridad_ips'
                }
            })
        });
        var edificio_publico_ips = new ol.layer.Image({
            title: "Edificio Publico IPS",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'edificio_publico_ips'
                }
            })
        });
        var edificios_ferroviarios = new ol.layer.Image({
            title: "Edificios Ferroviarios",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'edificios_ferroviarios'
                }
            })
        });
        var ejido = new ol.layer.Image({
            title: "Ejido",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'ejido'
                }
            })
        });
        var espejos_de_agua_hid = new ol.layer.Image({
            title: "Espejo Agua Hid",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'espejos_de_agua_hid'
                }
            })
        });
        var espejos_de_agua_hid = new ol.layer.Image({
            title: "Espejo Agua Hid",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'espejos_de_agua_hid'
                }
            })
        });
        var estructura_portuarias = new ol.layer.Image({
            title: "Estructuras Portuarias",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'estructura_portuarias'
                }
            })
        });
        var infraestructura_aeroportuaria_punto = new ol.layer.Image({
            title: "Infraestructura Aeroportuaria",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'infraestructura_aeroportuaria_punto'
                }
            })
        });
        var infraestructura_hidro = new ol.layer.Image({
            title: "Infraestructura Hidro",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'infraestructura_hidro'
                }
            })
        });
        var isla = new ol.layer.Image({
            title: "Isla",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'isla'
                }
            })
        });
        var limite_politico_administrativo_lim = new ol.layer.Image({
            title: "Limite Politico Adm Lim",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'limite_politico_administrativo_lim'
                }
            })
        });
        var localidades = new ol.layer.Image({
            title: "Localidades",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'localidades'
                }
            })
        });
        var lineas_de_conduccion_ene = new ol.layer.Image({
            title: "Lineas de Conducc. Ene",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'lineas_de_conduccion_ene'
                }
            })
        });
        var marcas_y_señales = new ol.layer.Image({
            title: "Marcas Señales",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'marcas_y_señales'
                }
            })
        });
        var muro_embalse = new ol.layer.Image({
            title: "Muro Embalse",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'muro_embalse'
                }
            })
        });
        var obra_de_comunicacion = new ol.layer.Image({
            title: "Obra y Com",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'obra_de_comunicacion'
                }
            })
        });
        var obra_portuaria = new ol.layer.Image({
            title: "Obra Portuaria",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'obra_portuaria'
                }
            })
        });
        var otras_edificaciones = new ol.layer.Image({
            title: "Otras Edif",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'otras_edificaciones'
                }
            })
        });
        var pais_lim = new ol.layer.Image({
            title: "Pais Lim",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'pais_lim'
                }
            })
        });
        var provincias = new ol.layer.Image({
            title: "Provincias",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'provincias'
                }
            })
        });
        var puente_red_vial_puntos = new ol.layer.Image({
            title: "Puente Red Vial",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'puente_red_vial_puntos'
                }
            })
        });
        var puntos_de_alturas_topograficas = new ol.layer.Image({
            title: "Puntos de Alt Top",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'puntos_de_alturas_topograficas'
                }
            })
        });
        var puntos_del_terreno = new ol.layer.Image({
            title: "Puntos Terreno",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'puntos_del_terreno'
                }
            })
        });
        var red_ferroviaria = new ol.layer.Image({
            title: "Red Ferroviaria",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'red_ferroviaria'
                }
            })
        });
        var red_vial = new ol.layer.Image({
            title: "Red Vial",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'red_vial'
                }
            })
        });
        var salvado_de_obstaculo = new ol.layer.Image({
            title: "Salvado Obs",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'salvado_de_obstaculo'
                }
            })
        });
        var señalizaciones = new ol.layer.Image({
            title: "Señalizaciones",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'señalizaciones'
                }
            })
        });
        var sue_congelado = new ol.layer.Image({
            title: "Suelo Cong",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'sue_congelado'
                }
            })
        });
        var sue_consolidado = new ol.layer.Image({
            title: "Suelo Cons",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'sue_consolidado'
                }
            })
        });
        var sue_costero = new ol.layer.Image({
            title: "Suelo Cost",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'sue_costero'
                }
            })
        });
        var sue_hidromorfologico = new ol.layer.Image({
            title: "Suelo Hidromor",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'sue_hidromorfologico'
                }
            })
        });
        var sue_no_consolidado = new ol.layer.Image({
            title: "Suelo No Cons",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'sue_no_consolidado'
                }
            })
        });
        var veg_arborea = new ol.layer.Image({
            title: "Veg Arborea",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'veg_arborea'
                }
            })
        });
        var veg_arbustiva = new ol.layer.Image({
            title: "Veg Arbustiva",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'veg_arbustiva'
                }
            })
        });
        var veg_cultivos = new ol.layer.Image({
            title: "Veg Cultivos",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'veg_cultivos'
                }
            })
        });
        var veg_hidrofila = new ol.layer.Image({
            title: "Veg Hidrofila",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'veg_hidrofila'
                }
            })
        });
        var veg_suelo_desnudo = new ol.layer.Image({
            title: "Veg Suelo Desn",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'veg_suelo_desnudo'
                }
            })
        });
        var vias_secundarias = new ol.layer.Image({
            title: "Vias Secundarias",
            //capa desactivada por defecto
            visible: false,
            source: new ol.source.ImageWMS({
                url: URL_OGC,
                params: {
                    LAYERS: 'vias_secundarias'
                }
            })
        });
           
        
        var map = new ol.Map({
            target: 'map',
            layers: [
                new ol.layer.Tile({
                    title: "Base Map",
                    source: new ol.source.TileWMS({
                        url: 'http://wms.ign.gob.ar/geoserver/wms',
                        params: {
                            LAYERS: 'capabaseargenmap',
                            VERSION: '1.1.1'
                        }
                    })
                }),
                actividades_agropecuarias,
                actividades_economicas,
                complejo_de_energia_ene,
                curso_de_agua_hid,
                curvas_de_nivel,
                edif_construcciones_turisticas,
                edif_depor_y_esparcimiento,
                edif_educacion,
                edif_religiosos,
                edificio_de_salud_ips,
                edificio_de_seguridad_ips,
                edificio_publico_ips,
                edificios_ferroviarios,
                ejido,
                espejos_de_agua_hid,
                estructura_portuarias,
                infraestructura_aeroportuaria_punto,
                infraestructura_hidro,
                isla,
                limite_politico_administrativo_lim,
                localidades,
                lineas_de_conduccion_ene,
                marcas_y_señales,
                muro_embalse,
                obra_de_comunicacion,
                obra_portuaria,
                otras_edificaciones,
                pais_lim,
                provincias,
                puente_red_vial_puntos,
                puntos_de_alturas_topograficas,
                puntos_del_terreno,
                red_ferroviaria,
                red_vial,
                salvado_de_obstaculo,
                señalizaciones,
                sue_congelado,
                sue_consolidado,
                sue_costero,
                sue_hidromorfologico,
                sue_no_consolidado,
                veg_arborea,
                veg_arbustiva,
                veg_cultivos,
                veg_hidrofila,
                veg_suelo_desnudo,
                vias_secundarias,

                //agregi ka caoa vectorial
                vectorLayer

            ],
            view: new ol.View({
                projection: 'EPSG:4326',
                center: [-59, -27.5],
                zoom: 4

            })
        });
    


        //function que va a realizar la peticion de la consulta
        var consultar = function (coordinate) {
            console.log(coordinate);
            if (coordinate.length == 2) {
                //es un punto [lon,lat]
                var wkt = 'POINT(' + coordinate[0] + ' ' + coordinate[1] + ')';
            } else {
                //es un poligono en la forma [ [ [lon,lat],[lon,lat],....] ]
                var wkt = 'POLYGON((';
                for (var i = 0; i < coordinate[0].length - 1; i++) {
                    wkt += coordinate[0][i][0] + ' ' + coordinate[0][i][1] + ',';
                }
                wkt += coordinate[0][0][0] + ' ' + coordinate[0][0][1] + '))'
            }
            console.log(wkt);
            window.open('consulta.php?wkt=' + wkt);
            return;

            // jQuery.ajax({
            //     url:'consulta.php',
            //     method: 'GET',
            //     data:{
            //         wkt:wkt
            //     },
            //     success:function(data){
            //         console.log(data);
            //     }
            // });



        };


        var selectInteraction = new ol.interaction.DragBox({
            condition: ol.events.condition.always, //noModifierKeys
            style: new ol.style.Style({
                stroke: new ol.style.Stroke({
                    color: [0, 0, 255, 1]
                })
            })
        });


        selectInteraction.on('boxend', function (evt) {
            //this: referencia al selectInteraction
            console.log('boxend', this.getGeometry().getCoordinates());
            consultar(selectInteraction.getGeometry().getCoordinates());

        });

        //funcion para el evento click en el mapa
        var clickEnMapa = function (evt) {
            //muestro por consola las coordenadas del evento
            console.log('click', evt.coordinate);
            consultar(evt.coordinate);
        };

        //function para "cambiar" de interaction en function del value de los radios
        var seleccionarControl = function (el) {
            if (el.value == "consulta") {
                //agrego la interaccion del dragbox
                //la cual tiene precedencia sobre las otras
                map.addInteraction(selectInteraction);

                //subscribo una funcion al evento click del mapa
                map.on('click', clickEnMapa);

            } else if (el.value == "navegacion") {
                //la remuevo...
                map.removeInteraction(selectInteraction);
                //remueveo la subscripcion de la funcion al evento click del mapa
                map.un('click', clickEnMapa);
            }
            //muestro por consola el valor
            console.log(el.value);
        };

        //visibilidad de las capas
        const mostrarCapa = (event) =>{
            var checkbox = document.getElementById(event.target.id);
            console.log(event.target.id)
            console.log(checkbox.checked)

            if (event.target.id === 'check_layer_1'){
                actividades_agropecuarias.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_2'){
                actividades_economicas.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_3'){
                complejo_de_energia_ene.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_4'){
                curso_de_agua_hid.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_5'){
                curvas_de_nivel.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_6'){
                edif_construcciones_turisticas.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_7'){
                edif_depor_y_esparcimiento.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_8'){
                edif_educacion.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_9'){
                edif_religiosos.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_10'){
                edificio_de_salud_ips.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_11'){
                edificio_de_seguridad_ips.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_12'){
                edificio_publico_ips.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_13'){
                edificios_ferroviarios.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_14'){
                ejido.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_15'){
                espejos_de_agua_hid.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_16'){
                estructura_portuarias.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_17'){
                infraestructura_aeroportuaria_punto.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_18'){
                infraestructura_hidro.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_19'){
                isla.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_20'){
                limite_politico_administrativo_lim.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_21'){
                localidades.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_22'){
                lineas_de_conduccion_ene.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_23'){
                marcas_y_señales.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_24'){
                muro_embalse.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_25'){
                obra_de_comunicacion.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_26'){
                obra_portuaria.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_27'){
                otras_edificaciones.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_28'){
                pais_lim.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_29'){
                provincias.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_30'){
                puente_red_vial_puntos.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_31'){
                puntos_de_alturas_topograficas.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_32'){
                puntos_del_terreno.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_33'){
                red_ferroviaria.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_34'){
                red_vial.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_35'){
                salvado_de_obstaculo.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_36'){
                señalizaciones.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_37'){
                sue_congelado.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_38'){
                sue_consolidado.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_39'){
                sue_costero.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_40'){
                sue_hidromorfologico.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_41'){
                sue_no_consolidado.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_42'){
                veg_arborea.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_43'){
                veg_arbustiva.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_44'){
                veg_cultivos.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_45'){
                veg_hidrofila.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_46'){
                veg_suelo_desnudo.setVisible(checkbox.checked)
            }
            if (event.target.id === 'check_layer_47'){
                vias_secundarias.setVisible(checkbox.checked)
            }
        }

        const controlLateralMenu = () => {
            const panel = document.getElementById('panel')
            const buttonMenuLateral = document.getElementById('btn-controlLateralMenu')

            if (MenuLateralIsOpen){
                panel.style.display = 'none'
                buttonMenuLateral.value = 'Abrir'
            }else{
                panel.style.display = 'block'
                buttonMenuLateral.value = 'Cerrar'
            }
            MenuLateralIsOpen = !MenuLateralIsOpen
        }
    </script>
</body>

</html>